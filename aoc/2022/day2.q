d2:{(`int$x[;0 2])-\:65 88};
d2p1:{a:d2 x;sum 1+a[;1]+(3 6 0;0 3 6;6 0 3)./:a};
d2p2:{a:d2 x;sum(3*a[;1])+(3 1 2;1 2 3;2 3 1)./:a};

/
x:"\n"vs"A Y\nB X\nC Z";

d2p1 x  //15
d2p2 x  //12
